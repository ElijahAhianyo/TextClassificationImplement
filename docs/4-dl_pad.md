# Dl Pad

[_Documentation generated by Documatic_](https://www.documatic.com)

<!---Documatic-section-Codebase Structure-start--->
## Codebase Structure

<!---Documatic-block-system_architecture-start--->
```mermaid
None
```
<!---Documatic-block-system_architecture-end--->

# #
<!---Documatic-section-Codebase Structure-end--->

<!---Documatic-section-dl.pad.train.eval-start--->
## [dl.pad.train.eval](4-dl_pad.md#dl.pad.train.eval)

<!---Documatic-section-eval-start--->
<!---Documatic-block-dl.pad.train.eval-start--->
<details>
	<summary><code>dl.pad.train.eval</code> code snippet</summary>

```python
def eval(model, data_vali, gap_size, use_gpu):
    model.eval()
    acc_sum = 0
    ii = 0
    start_vali = 0
    while start_vali + gap_size <= data_vali.shape[0]:
        end_vali = start_vali + gap_size
        tmp_vali = data_vali[start_vali:end_vali]
        start_vali = end_vali
        x_vali = torch.LongTensor(tmp_vali[:, :-1])
        y_vali = torch.LongTensor(tmp_vali[:, -1])
        if use_gpu:
            x_vali = x_vali.cuda()
            y_vali = y_vali.cuda()
        out_tmp = model(x_vali)
        pre_tmp = torch.max(out_tmp, dim=1)[1]
        acc_tmp = torch.mean(torch.eq(pre_tmp, y_vali).float()).item()
        acc_sum += acc_tmp
        ii += 1
    acc_vali = acc_sum / ii
    model.train()
    return acc_vali
```
</details>
<!---Documatic-block-dl.pad.train.eval-end--->
<!---Documatic-section-eval-end--->

# #
<!---Documatic-section-dl.pad.train.eval-end--->

<!---Documatic-section-dl.pad.data.data_process.word2index-start--->
## [dl.pad.data.data_process.word2index](4-dl_pad.md#dl.pad.data.data_process.word2index)

<!---Documatic-section-word2index-start--->
<!---Documatic-block-dl.pad.data.data_process.word2index-start--->
<details>
	<summary><code>dl.pad.data.data_process.word2index</code> code snippet</summary>

```python
def word2index(word):
    if word in word_index_dict:
        return word_index_dict[word]
    else:
        return 0
```
</details>
<!---Documatic-block-dl.pad.data.data_process.word2index-end--->
<!---Documatic-section-word2index-end--->

# #
<!---Documatic-section-dl.pad.data.data_process.word2index-end--->

<!---Documatic-section-dl.pad.data.data_process.sentence2index-start--->
## [dl.pad.data.data_process.sentence2index](4-dl_pad.md#dl.pad.data.data_process.sentence2index)

<!---Documatic-section-sentence2index-start--->
<!---Documatic-block-dl.pad.data.data_process.sentence2index-start--->
<details>
	<summary><code>dl.pad.data.data_process.sentence2index</code> code snippet</summary>

```python
def sentence2index(sentence):
    word_list = sentence.strip().split()
    index_list = list(map(word2index, word_list))
    len_sen = len(index_list)
    if len_sen < fix_len:
        index_list = index_list + [0] * (fix_len - len_sen)
    else:
        index_list = index_list[:fix_len]
    return index_list
```
</details>
<!---Documatic-block-dl.pad.data.data_process.sentence2index-end--->
<!---Documatic-section-sentence2index-end--->

# #
<!---Documatic-section-dl.pad.data.data_process.sentence2index-end--->

<!---Documatic-section-dl.pad.word2vec.train_word2vec.sentence2list-start--->
## [dl.pad.word2vec.train_word2vec.sentence2list](4-dl_pad.md#dl.pad.word2vec.train_word2vec.sentence2list)

<!---Documatic-section-sentence2list-start--->
<!---Documatic-block-dl.pad.word2vec.train_word2vec.sentence2list-start--->
<details>
	<summary><code>dl.pad.word2vec.train_word2vec.sentence2list</code> code snippet</summary>

```python
def sentence2list(sentence):
    return sentence.strip().split()
```
</details>
<!---Documatic-block-dl.pad.word2vec.train_word2vec.sentence2list-end--->
<!---Documatic-section-sentence2list-end--->

# #
<!---Documatic-section-dl.pad.word2vec.train_word2vec.sentence2list-end--->

[_Documentation generated by Documatic_](https://www.documatic.com)